# Mosquitto configuration file for testing of internal/mqttclient


#pid_file /var/run/mosquitto.pid

persistence false
log_timestamp_format %Y-%m-%dT%H:%M:%S
log_type error
log_type warning
log_type information
log_dest stdout


# Username/password authentication websocket over TLS/SSL
listener 9883
protocol websockets
cafile ./certs/caCert.pem
keyfile ./certs/hubKey.pem
certfile ./certs/hubCert.pem
require_certificate false
tls_version tlsv1.2
allow_anonymous true # for simple testing
# password_file ./config/mosquitto-passwd.txt

# MQTT over TLS/SSL for use with certificate. 
listener 9884
cafile ./certs/caCert.pem
keyfile ./certs/hubKey.pem
certfile ./certs/hubCert.pem
require_certificate true
use_identity_as_username true  
tls_version tlsv1.2
