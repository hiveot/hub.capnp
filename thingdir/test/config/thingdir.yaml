# thingdir.yaml is the configuration for the directory service
# For normal operation it is recommended to use the defaults.

#--- Built-in directory server settings

# Disable the built-in directory server and use an external server
# This requires that dirAddress and dirPort are set to that of the external directory server
#disableDirServer: false

# Directory service listening address. The default is that of the mqtt server.
# This address must match the address in the server certificate otherwise clients won't be able to connect.
#dirAddress: "127.0.0.1"

# Directory service HTTPS listening port. Use the plugin default port by default.
# The default port is hard coded as  in thingdir-go/pkg/dirclient/DirClient.go:DefaultPort
dirPort: 9886

# Alternative server CA PEM certificate file for validating client certificates.
# The default is the hub's CA certificate
#serverCaPath: "/path/to/caCert.pem"

# Alternative Directory server certificate and key files. The default is the hub's server certificate.
# Note that they are also used for login JWT token generation and verification.
#serverCertPath: "/path/to/hubCert.pem"
#serverKeyPath: "/path/to/hubKey.pem"

# Enable login on the server instead of using a separate auth server
enableLogin: true  # default is disabled

#--- DNS-SD discovery settings

# Enable server DNS-SD discovery of the built-in directory server.
# This is not needed if the provisioning server is used for finding the directory.
#enableDiscovery:  false

# Alternative discovery service name. The name uniquely identifies the type of service in discovery
# The default is the plugin id (thingdir). This is published as "_{serviceName}._tcp"
#serviceName: "thingdir"

#--- Protocol Binding client settings to update the directory server

# Unique plugin instance ID, default is plugin ID
# If multiple directory servers exist on the same network they must have a unique ID
#pbClientID: "thingdir"

# Alternative Directory client certificate and key files for connecting to the directory server.
# If an external directory is used these fields must be set. The default is the plugin certificate
#pbClientCertPath: "/path/to/alternate/directoryClientCert.pem"
#pbClientKeyPath: "/path/to/alternate/directoryClientKey.pem"
# The CA certificate used by the server. Used to validate we're connecting to the right directory server
#pbClientCaPath: "/path/to/alternate/caCert.pem"

#--- MQTT Message bus client settings

# The CA certificate of the message bus
#msgbusCaPath: "/path/to/alternate/caCert.pem"

# Alternative message bus client certificate and key files for authenticating with the message bus.
# The default is the plugin certificate
#msgbusCertPath: "/path/to/alternate/clientCert.pem"
#msgbusKeyPath: "/path/to/alternate/clientKey.pem"

#--- Directory Store Settings

# Folder with the directory files. Default is the config folder
# If a relative path is used it is relative to the home folder, eg parent of bin
#directoryStoreFolder: "/path/to/alternate/folder"
